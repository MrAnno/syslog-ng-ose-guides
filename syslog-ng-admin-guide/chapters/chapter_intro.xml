<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter SYSTEM "../../xml-stylesheet/pdf/dtd/docbookx.dtd"
[  <!ENTITY % entities SYSTEM "../syslog-ng-entities.ent">
  %entities;]> 
<chapter id="chapter_intro">
	<title>Introduction to syslog-ng</title>
	<para>This chapter introduces the syslog-ng Premium Edition application in a non-technical
		manner, discussing how and why is it useful, and the benefits it offers to an existing IT
		infrastructure. </para>
	<section>
		<title>What syslog-ng is</title>
		<para>The syslog-ng application is a flexible and highly scalable system logging application
			that is ideal for creating centralized logging solutions. The main features of syslog-ng
			are summarized below.</para>
		<itemizedlist>
			<listitem>
				<para><emphasis>Reliable log transfer</emphasis>: The syslog-ng application enables
					you to send the log messages of your hosts to remote servers using the latest
					protocol standards. The logs of different servers can be collected and stored
					centrally on dedicated log servers. Transferring log messages using the TCP
					protocol ensures that no messages are lost.</para>
			</listitem>
			<listitem>
				<para><emphasis>Secure logging using TLS</emphasis>: Log messages may contain
					sensitive information that should not be accessed by third parties. Therefore,
					syslog-ng Premium Edition uses the Transport Layer Security (TLS) protocol to
					encrypt the communication. TLS also allows the mutual authentication of the host
					and the server using X.509 certificates.</para>
			</listitem>
			<listitem>
				<para><emphasis>Disk-based message buffering</emphasis>: The Premium Edition of
					syslog-ng stores messages on the local hard disk if the central log server or
					the network connection becomes unavailable. The syslog-ng application
					automatically sends the stored messages to the server when the connection is
					reestablished, in the same order the messages were received. The disk buffer is
					persistent â€“ no messages are lost even if syslog-ng is restarted.</para>
			</listitem>
			<listitem>
				<para><emphasis>Direct database access</emphasis>: Storing your log messages in a
					database allows you to easily search and query the messages and interoperate
					with log analyzing applications. The Premium Edition of syslog-ng supports the
					following databases: MSSQL, MySQL, Oracle, PostgreSQL, and SQLite.</para>
			</listitem>
			<listitem>
				<para><emphasis>Encrypted and timestamped log storage</emphasis>: The Premium
					Edition of syslog-ng can store log messages securely in encrypted, compressed,
					and timestamped binary files. Timestamps can be requested from an external
					Timestamping Authority (TSA).</para>
			</listitem>
			<listitem>
				<para><emphasis>Heterogeneous environments</emphasis>: The syslog-ng application is
					the ideal choice to collect logs in massively heterogeneous environments using
					several different operating systems and hardware platforms, including Linux,
					Unix, BSD, Sun Solaris, HP-UX, and AIX. An agent is available to transfer logs
					from Microsoft Windows hosts to the central syslog-ng server.</para>
			</listitem>
			<listitem>
				<para><emphasis>Filter and classify</emphasis>: The syslog-ng application can sort
					the incoming log messages based on their content and various parameters like the
					source host, application, and priority. Directories, files, and database tables
					can be created dynamically using macros. Complex filtering using regular
					expressions and boolean operators offers almost unlimited flexibility to forward
					only the important log messages to the selected destinations.</para>
			</listitem>
			<listitem>
				<para><emphasis>Parse and rewrite</emphasis>: The syslog-ng application can segment
					log messages to named fields or columns, and also modify the values of
					these fields.</para>
			</listitem>
			<listitem>
				<para><emphasis>IPv4 and IPv6 support</emphasis>: The syslog-ng application can
					operate in both IPv4 and IPv6 network environments; it can receive and send
					messages to both types of networks.</para>
			</listitem>
		</itemizedlist>
	</section>
	<section>
		<title>What syslog-ng is not</title>
		<para>The syslog-ng application is not log analysis software. It can filter log messages and
			select only the ones matching certain criteria. It can even convert the messages and
			restructure them to a predefined format, or parse the messages and segment them into
			different fields. But syslog-ng cannot interpret and analyze the meaning behind the
			messages, or recognize patterns in the occurrence of different messages.</para>
	</section>
	<section>
		<title>Why is syslog-ng needed?</title>
		<para>Log messages contain information about the events happening on the hosts. Monitoring
			system events is essential for security and system health monitoring reasons. </para>
		<para>The original syslog protocol separates messages based on the priority of the message
			and the facility sending the message. These two parameters alone are often inadequate to
			consistently classify messages, as many applications might use the same facility
			&mdash; and the facility itself is not even included in the log message. To make
			things worse, many log messages contain unimportant information. The syslog-ng
			application helps you to select only the really interesting messages, and forward them
			to a central server.</para>
		<para>Company policies or other regulations often require log messages to be archived.
			Storing the important messages in a central location greatly simplifies this process.</para>
		<para>For details on how can you use syslog-ng to comply with various regulations, see the
				<emphasis>Regulatory compliance and system logging</emphasis> whitepaper available
			at <ulink url="http://www.balabit.com/support/documentation/"
				>http://www.balabit.com/support/documentation/</ulink></para>
	</section>
	<section id="syslog-ng_whatsnew">
		<title>What is new in syslog-ng 3.0?</title>
		<para>Version 3.0 of syslog-ng includes the following main features:</para>
		<itemizedlist>
			<listitem>
				<para>Support for the new IETF syslog protocol standard &mdash; see <xref
						linkend="concepts_message_ietfsyslog"/>, <xref
						linkend="configuring_sources_syslog"/> and <xref
						linkend="configuring_destinations_syslog"/>.</para>
			</listitem>
			<listitem>
				<para>Parsing and segmenting log messages &mdash; see <xref
						linkend="configuring_parsers"/>.</para>
			</listitem>
			<listitem>
				<para>Rewriting log messages &mdash; see <xref linkend="configuring_rewrite"
				/>.</para>
			</listitem>
			<listitem>
				<para>Storing log messages in encrypted, timestamped logfiles &mdash; see <xref
						linkend="concepts_logstore"/> and <xref
						linkend="configuring_destinations_logstore"/>.</para>
			</listitem>
			<listitem>
				<para>Complex, embedded log paths &mdash; see <xref
						linkend="concepts_embedded_logpaths"/> and <xref
						linkend="configuring_embedded_logpaths"/>.</para>
			</listitem>
			<listitem>
				<para>File sources with wildcards in their filename or path &mdash; see <xref
						linkend="configuring_sources_file"/>.</para>
			</listitem>
			<listitem>
				<para>The syslog-ng application can receive messages directly from external applications 
				using the new <parameter>program()</parameter> source driver that listens for log messages on
				 the standard output (stdout) &mdash; see <xref
						linkend="reference_source_program"/>.</para>
			</listitem>
			<listitem>
				<para>On Linux, the syslog-ng application can support capabilities and run as a non-root 
				user if compiled with the <parameter>--enable-linux-caps</parameter> option.
				 <!-- FIXME link
				 &mdash; see <xref
						linkend="concepts_embedded_logpaths"/> and <xref
						linkend="configuring_embedded_logpaths"/>. --></para>
			</listitem>
			<listitem>
				<para>The syslog-ng application automatically generates a unique sequence ID for every 
				new local message (but not for relayed messages). This ID number is included in outgoing
				 messages that use the IETF-syslog format, and can be included in legacy messages using the 
				 <parameter>$SEQNUM</parameter> macro.
				 <!-- FIXME link
				 &mdash; see <xref
						linkend="concepts_embedded_logpaths"/> and <xref
						linkend="configuring_embedded_logpaths"/>. --></para>
			</listitem>
		</itemizedlist>	
		<para>Version 3.0 of syslog-ng includes the following important changes:</para>
		<itemizedlist>
			<listitem>
				<para>The <parameter>tcp, tcp6, udp, udp6, unix-stream, and unix-dgram</parameter> destination drivers support the <parameter>keep-alive</parameter> option, enabling them to keep connections open during a HUP and saving the output queue between restarts &mdash; see <xref
						linkend="reference_destination_tcpudp"/> and <xref
						linkend="reference_destination_unixstream"/>.</para>
			</listitem>
			<listitem>
				<para>The <parameter>log-prefix()</parameter> option has been deprecated. Use the new 
				<parameter>program-override()</parameter> and <parameter>host-override()</parameter> 
				options instead &mdash; see <xref
						linkend="reference_destination_tcpudp"/> and <xref
						linkend="reference_destination_unixstream"/>.</para>
			</listitem>
			<listitem>
				<para>The <parameter>keep_hostname, keep_timestamp, use_dns, and use_fqdn</parameter> options 
				can be set individually for every source.</para>
			</listitem>
			<listitem>
				<para>Legacy destination drivers like <parameter>tcp and file</parameter> can output log
				 messages in the new IETF-syslog format if the <parameter>flags(syslog-protocol)</parameter>
				 option is enabled for the destination. Similarly, legacy sources can receive such messages
				  using this option.</para>
			</listitem>
			<listitem>
				<para>If syslog-ng is compiled with PCRE support, Perl Compatible Regular Expressions can be
				 used using the <parameter>type(pcre)</parameter> option. 
				 <!-- FIXME link
				 &mdash; see <xref
						linkend="concepts_embedded_logpaths"/> and <xref
						linkend="configuring_embedded_logpaths"/>. --></para>
			</listitem>
			<listitem>
				<para>You can set the part of the message where the <parameter>match()</parameter> filter
				 searches for the specified string using macros (e.g., match("example" value(PROGRAM))).
				 <!-- FIXME link
				 &mdash; see <xref
						linkend="concepts_embedded_logpaths"/> and <xref
						linkend="configuring_embedded_logpaths"/>. --></para>
			</listitem>
			<listitem>
			<para>The default value of the <parameter>follow_freq</parameter> option has been changed to 1.</para>
			</listitem>
			<listitem>
			<para>The default value of the <parameter>chain_hostnames</parameter> option has been changed to 0
			 (no).</para>
			</listitem>
			<listitem>
			<para>The default value of the <parameter>template_escape</parameter> option has been changed to 0
			 (no).</para>
			</listitem>			
			<listitem>
			<para><parameter>NL</parameter> characters are not removed by default, to remove these characters,
			 use the <parameter>flags(no-multi-line)</parameter> option of the destination.</para>
			</listitem>
		</itemizedlist>	
	</section>
	<section>
		<title>Who uses syslog-ng?</title>
		<para>The syslog-ng application is used worldwide by companies and institutions who collect
			and manage the logs of several hosts, and want to store them in a centralized, organized
			way. Using syslog-ng is particularly advantageous for:</para>
		<itemizedlist>
			<listitem>
				<para>Internet Service Providers;</para>
			</listitem>
			<listitem>
				<para>Financial institutions and companies requiring policy compliance;</para>
			</listitem>
			<listitem>
				<para>Server, web, and application hosting companies;</para>
			</listitem>
			<listitem>
				<para>Datacenters;</para>
			</listitem>
			<listitem>
				<para>Wide area network (WAN) operators;</para>
			</listitem>
			<listitem>
				<para>Server farm administrators.</para>
			</listitem>
		</itemizedlist>
		<para>The following is a list of public references &mdash; companies who use syslog-ng
			in their production environment: </para>
		<itemizedlist>
			<listitem>
				<para>Allianz Hungary Insurance Co. (<ulink url="http://www.allianz.hu/"
					>http://www.allianz.hu/</ulink>)</para>
			</listitem>
			<listitem>
				<para>Navisite Inc. (<ulink url="http://www.navisite.com/"
					>http://www.navisite.com/</ulink>)</para>
			</listitem>
			<listitem>
				<para>Svenska Handelsbanken AB (<ulink url="http://www.handelsbanken.com/"
					>http://www.handelsbanken.com/</ulink>)</para>
			</listitem>
			<listitem>
				<para>Swedish National Debt Office (<ulink url="http://www.riksgalden.se"
					>http://www.riksgalden.se</ulink>)</para>
			</listitem>
		</itemizedlist>
	</section>
	<section id="supported_platforms">
		<title>Supported platforms</title>
		<indexterm>
			<primary>supported architectures</primary>
		</indexterm>
		<indexterm>
			<primary>supported operating systems</primary>
		</indexterm>
		<para>The syslog-ng PE application is officially supported on the following platforms. The
			latest version of this table is available at <ulink
				url="http://www.balabit.com/network-security/syslog-ng/central-syslog-server/"
				>http://www.balabit.com/network-security/syslog-ng/central-syslog-server/</ulink>.</para>
		<table>
			<title>Platforms supported by syslog-ng PE</title>
			<tgroup cols="7">
				<thead>
					<row>
						<entry> </entry>
						<entry> x86 </entry>
						<entry> x86_64 </entry>
						<entry> SUN SPARC </entry>
						<entry> ppc32 </entry>
						<entry> ppc64 </entry>
						<entry> PA-RISC </entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry> AIX 5.2 &amp; 5.3 </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> &#10004; </entry>
						<entry> upon request </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Debian etch </entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Debian sarge<footnote label="*"/>
						</entry>
						<entry> upon request </entry>
						<entry> upon request </entry>
						<entry> upon request </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> FreeBSD 6.1<footnote label="*"/>
						</entry>
						<entry> &#10004; </entry>
						<entry> upon request</entry>
						<entry> upon request </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> HP-UX 11i<footnote label="*">
								<para>Development of direct database access is in progress</para>
							</footnote>
						</entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> &#10004; </entry>
					</row>
					<row>
						<entry> IBM System i </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> &#10004; </entry>
						<entry> upon request </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Linux from Scratch 6.3<footnote label="*"/></entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> OpenBSD 4.x<footnote label="*"/>
						</entry>
						<entry> upon request </entry>
						<entry> upon request</entry>
						<entry> upon request </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Red Hat ES 4 / CentOS 4</entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Red Hat ES 5 / CentOS 5</entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> SLES 10 / openSUSE 10.0</entry>
						<entry> &#10004; </entry>
						<entry> upon request</entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>

					<row>
						<entry> SLES 10 SP1 / openSUSE 10.1 </entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Solaris 8 </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>

					<row>
						<entry> Solaris 9 </entry>
						<entry> upon request </entry>
						<entry> X </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Solaris 10 </entry>
						<entry> upon request </entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
					<row>
						<entry> Windows </entry>
						<entry> &#10004; </entry>
						<entry> &#10004; </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
						<entry> X </entry>
					</row>
				</tbody>
			</tgroup>
		</table>
		<para/>
		<para>The central syslog-ng server cannot be installed on Microsoft Windows platforms. The
			syslog-ng Agent capable of forwarding eventlog messages to the central server is
			available on the x86 and x86_64 architecture for Microsoft Windows XP, Microsoft Windows
			2003 Server, Microsoft Windows Vista, and Microsoft Windows 2008 Server. The syslog-ng
			Agent is available only in syslog-ng Premium Edition.</para>
		<para>The central syslog-ng server can be installed on the IBM System i platform, but the
			syslog-ng Agent for IBM System i is needed to collect the native logs of IBM System i
			(see <xref linkend="chapter_system_i"/>). The syslog-ng Agent for IBM System i is a
			commercial product independent from both syslog-ng OSE and PE, and must be licensed
			separately.</para>
		<para>You can buy precompiled binary packages for syslog-ng Open Source Edition as well. For
			the list of available platforms, see <ulink
				url="http://www.balabit.com/network-security/syslog-ng/opensource-logging-system/support/"
				>http://www.balabit.com/network-security/syslog-ng/opensource-logging-system/support/</ulink>.</para>
	</section>
</chapter>
