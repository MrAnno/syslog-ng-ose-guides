<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body name="use-case-3-macros">
        <h1 name="use-case-3-macros">Example use case: using the $DESTIP, the $DESTPORT, and the $PROTO macros</h1>
        <p>This section provides a few example use cases when using the $DESTIP, the $DESTPORT, and the $PROTO macros is recommended.</p>
        <div>
            <h6>When to use the $DESTIP, the $DESTPORT, and the $PROTO macros</h6>
            <p>Using the $DESTIP, the $DESTPORT, and the $PROTO macros is recommended if you are facing either of the following challenges in your configuration:</p>
            <ul>
                <li>
                    <p>Your appliance sends out log messages through both UDP and TCP.</p>
                </li>
                <li>
                    <p>The format of the UDP log messages and the TCP log messages is different, and instead of using complex filters, you want to capture either of them, preferably with the simplest possible filter.</p>
                </li>
                <li>
                    <p>The IP addresses are the same (melyik IP cím és melyik IP cím? ), therefore the <span class="Code">netmask()</span> option doesn't work in your configuration.</p>
                </li>
                <li>
                    <p>The hostnames are the same (ugyanaz a kérdés, mint fent: melyik 2 hostname?), therefore the <span class="Code">host()</span> option doesn't work in your configuration.</p>
                </li>
            </ul>
        </div>
        <div>
            <h6>Macros: <span class="Code">$DESTIP</span>, <span class="Code">$DESTPORT</span>, and <span class="Code">$PROTO</span></h6>
            <p>To solve either of the challenges listed previously, <MadCap:variable name="General.product" /> (<MadCap:variable name="General.abbrev" />) supports the following macros that you can include in your configuration:</p>
            <ul>
                <li>
                    <p><a href="reference-macros.htm#macro-destip"><span style="color: #04aada;" class="mcFormatColor"><span class="Code">$DESTIP</span></span></a>
                    </p>
                </li>
                <li>
                    <p><a href="reference-macros.htm#macro-destport"><span style="color: #04aada;" class="mcFormatColor"><span class="Code">$DESTPORT</span></span></a>
                    </p>
                </li>
                <li>
                    <p><a href="reference-macros.htm#macro-proto"><span style="color: #04aada;" class="mcFormatColor"><span class="Code">$PROTO</span></span></a>
                    </p>
                </li>
            </ul>
        </div>
        <div>
            <h6>Configuration and output</h6>
            <p>Intro blabla</p>
            <div class="Example">
                <h6>Example: using the macros in your configuration</h6>
                <p>blabla:</p><pre>log

{ source
{ network(localip(10.12.15.215) port(5555) transport(udp)); }
;
destination { file("/dev/stdout" template("destip=$DESTIP destport=$DESTPORT proto=$PROTO\n")); };
};</pre>
                <p>With these configuration settings, the macros (...)</p><pre>destip=10.12.15.215 destport=5555 proto=17</pre>
            </div>
        </div>
    </body>
</html>