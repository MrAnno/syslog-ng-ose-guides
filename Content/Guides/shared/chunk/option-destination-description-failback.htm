<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body oldrole="topic">
        <p oldrole="para">When <MadCap:variable name="General.abbrev" /> starts up, it always connects to the primary server first. The <span class="Code">failback()</span> option determines what happens after <MadCap:variable name="General.abbrev" /> fails over to a secondary server.</p>
        <ul>
            <li>
                <p>If <span class="Code">failback()</span> is set, <MadCap:variable name="General.abbrev" /> attempts to return to the primary server.</p>
                <p>After <MadCap:variable name="General.abbrev" /> connects a secondary server during a failover, it sends a probe every tcp-probe-interval seconds towards the primary server. If the primary logserver responds with a TCP ACK packet, the probe is successful. When the number of successful probes reaches the value set in the <span class="Code" oldrole="parameter">successful-probes-required()</span> option, <MadCap:variable name="General.abbrev" />  tries to connect the primary server using the last probe.</p>
                <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/NoteTable_Blue_DoNotEdit.css');" class="TableStyle-NoteTable_Blue_DoNotEdit" cellspacing="0">
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column1" style="width: 0.3in;" />
                    <col class="TableStyle-NoteTable_Blue_DoNotEdit-Column-Column2" />
                    <tbody>
                        <tr class="TableStyle-NoteTable_Blue_DoNotEdit-Body-Body1">
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyB-Column1-Body1">
                                <p class="TableNoHyphen">
                                    <img src="../../../Resources/Images/Common/note.png" />
                                </p>
                            </td>
                            <td class="TableStyle-NoteTable_Blue_DoNotEdit-BodyA-Column2-Body1">
                                <p class="TableHyphen"><span class="AllNoteStyles">NOTE:</span><![CDATA[  ]]><MadCap:variable name="General.abbrev" /> always waits for the result of the last probe before sending the next message. So if one connection attempt takes longer than the configured interval, that is, it waits for connection time out, you may experience longer intervals between actual probes.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </li>
        </ul>
    </body>
</html>